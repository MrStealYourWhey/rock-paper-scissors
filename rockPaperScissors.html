<!DOCTYPE html>
<html>
    <head>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
        <meta content="utf-8" http-equiv="encoding">
    </head>
    <script>
        function game ()
        {
            let numberOfRounds
            do {
            numberOfRounds = +prompt("How many rounds would you want to play?")
            }
            while (Number.isInteger(numberOfRounds) == false);
            let choices = ["Rock", "Paper", "Scissors"];
            let computerScore = 0
            let userScore = 0

            for (i = 0; i < numberOfRounds; i++)
            {
                function computerPlay(choices)
                {
                    let computerChoice = choices[Math.floor(Math.random()*choices.length)];
                    if (computerChoice === choices[0])
                    {
                        return [0, "Rock"];
                    }
                    else if (computerChoice === choices[1])
                    {
                        return [1, "Paper"];
                    }
                    else
                    {
                        return [2, "Scissors"];
                    }
                }
                let computerSelection = computerPlay(choices)
                function userPlay(choices)
                {
                    let userChoice = prompt("What's your play?")
                    if (userChoice.toUpperCase() === choices[0].toUpperCase())
                    {
                        return [0, "Rock"];
                    }
                    else if (userChoice.toUpperCase() === choices[1].toUpperCase())
                    {
                        return [1, "Paper"];
                    }
                    else if (userChoice.toUpperCase() === choices[2].toUpperCase())
                    {
                        return [2, "Scissors"];
                    }
                    else if (userChoice === null)
                    {
                        return;
                    }
                    else
                    {
                        alert("Please, provide a valid play")
                        userPlay(choices)
                    }
                }
                let userSelection = userPlay(choices)
                function playRound(computerSelection, userSelection)
                {
                    if (computerSelection[0] === userSelection[0])
                    {
                        alert("Draw")
                    }
                    else if (computerSelection[0] > userSelection[0] || (computerSelection[0] === 0 && userSelection[0] === 2))
                    {
                        alert("You lose! " + computerSelection[1] + " beats " + userSelection[1] + ".")
                        computerScore++
                    }
                    else
                    {
                        alert("You win! " + userSelection[1] + " beats " + computerSelection[1] + ".")
                        userScore++
                    }
                    alert("Round: " + (i + 1) + "\nYour score: " + userScore + "; Computer Score: " + computerScore)
                }
                playRound(computerSelection, userSelection)
            }
            if (userScore > computerScore)
            {
                alert("You won!")
            }
            else if (computerScore > userScore)
            {
                alert("You lost!")
            }
            else
            {
                alert("Draw!")
            }
        }    
    </script>
    <body onload="game()">
    </body>
</html>    